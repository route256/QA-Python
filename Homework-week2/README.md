# Домашнее задание - собрать коллекцию postman для вызовов device-api

## Дано:

На занятии мы поговорили про swagger нашего тестового сервиса. Поняли, что одного swagger для тестирования grpc нам недостаточно. И увидели, что в postman есть все инструменты для тестов и REST и gRPC.

## Задание:

- Соберите коллекцию postman для тестирования REST device-api
    - запросы должны содержать тестовые данные
    - должны проверяться [response codes](https://learning.postman.com/docs/writing-scripts/script-references/test-examples/#getting-started-with-tests)
    - должен успешно проходить запуск в newman

- Проверьте работу вызовов и reflection gRPC device-api


## Критерии приемки задания:

- бранч QAHW-2 и папка с решением в вашей копии device-api
- коллекция c REST из postman в коммите
- результат запуска в newman в тексте MR

## Подсказки:

Используйте импорт описания из swagger, чтобы сэкономить время. Postman [пока не поддерживает тесты и импорт коллекций gRPC](https://blog.postman.com/postman-now-supports-grpc/).

[Установка Postman](https://learning.postman.com/docs/getting-started/installation-and-updates/#contents).

[Установка Newman](https://learning.postman.com/docs/running-collections/using-newman-cli/command-line-integration-with-newman/).


# Домашнее задание со звездочкой - поиск в таблице devices_events

## Дано

В результате ошибки на нескольких устройствах теперь установлен Freebsd. Нужно, используя SQL и записи в логах выяснить, какая OS была на них установлена до этого инцидента.

## Задание

Напишите SQL, который выводит предыдущие значения поля platform для устройств с `platform = 'Freebsd'`. Исторические данные хранятся в devices_events.


## Критерии приемки задания:

- бранч QAHW-2 и папка с решением в вашей копии device-api
- SQL код, который можно запустить в клиенте и который покажет желаемый результат в коммите
- его вывод с вашей версии DB (данные генерятся рандомно и отличаются на всех инстансах) в тексте MR 


# Домашнее задание со звездочкой - Удаление лишних файлов

## Дано

С ростом количества тестов увеличивается и количество файлов в отчете allure(с ним вы познакомитесь на следующих неделях.)
И из-за этого не получается быстро загрузить отчет на сервер. Необходимо убрать оттуда лишние файлы.

## Задание

Вам дан архив с [allure-отчетом](https://gitlab.ozon.dev/qa/classroom-5/Week-2/Homework/-/blob/main/allure-results.zip). 
Необходимо написать скрипт на python, который удалит все файлы с именем stderr из каждого тест кейса. 
Есть файлы `***-result.json` в них объекты `[{"name": "stderr", "source": "8ac4714d-226c-4b57-9877-804a700747ed-attachment.txt"`,
нужно удалить файл и сам объект из `***-result.json`, изменив его. Чтоб в отчете не осталось никакой информации об stderr


## Критерии приемки задания:

- бранч QAHW-2 и файл со скриптом.
- Скрипт очищает папку от всех вложений с именем stderr.
