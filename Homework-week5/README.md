# Продвинутый пайплайн 

На воркшопе мы разбирали создание пайплайна для гошного сервиса, теперь настало время создать собственный пайплайн для тестов. 

## Задание. 

Реализовать пайплайн в своем последнем репозитории с домашним заданием по тестам со следующими этапами: 

- Prepare 
- Pre-check 
- test

Написать джобы для этапа Prepare: 

- check - внутри джобы должна быть проверка названия коммита и его соответствие следующему формату: [JIRATASK-123] Реализовать форму логина. 
- prepare lint - джоба должна формировать конфигурационный файл для запуска flake8, внутри файла должна быть настройка на проверку длины строки. Этот файл нужно будет положить в артефакты для дальнейшего использования в джобе линта. 

Написать джобу для этапа Pre-check: 
- lint - джоба, которая запускает статический анализатор кода для питонячих тестов с использованием конфигурационного файла из предыдущей джобы prepare lint . 

Написать джобу для этапа tests: 
- test - настроить запуск питонячих тестов из предыдущих домашних заданий (тесты буду падать, потому что сервис не поднят) 

Джобы, запускаемые только в мастере: 
- check 

Джобы, запускаемые на любой ветке, не равно dev/v<version_number> 
- check 
- prepare lint 
- lint 

Джобы, которые должны запускаться на ветке release/v<version_number>: 
- check 
- prepare lint 
- lint 
- test 

## Критерии приёмки: 

- Все джобы (кроме tests) проходят успешно. 
- Все джобы запускаются при правильном событии 

## Задание со звездочкой*: 

Настроить ручной запуск пайплайна с возможностью передать параметр `WITH_LINT=true|false` . Если будет указано true, то запускать джобы `prepare lint` и `lint` , если false, то джобы не должны запускаться. 
